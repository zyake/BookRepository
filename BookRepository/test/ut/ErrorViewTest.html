<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>ErrorViewTest</title>
  <link rel="stylesheet" href="../resources/qunit-1.10.0.css">
      <!-- external lib -->
    <script src="../../src/main/webapp/js/lib/external/jquery-1.8.3.js"></script>
    <script src="../../src/main/webapp/js/lib/external/underscore.js"></script>
    <script src="../../src/main/webapp/js/lib/external/backbone.js"></script>
    <!-- hand made lib  -->
    <script src="../../src/main/webapp/js/lib/view/ErrorView.js"></script>

  <script src="../../src/main/webapp/js/AssertUtils.js"></script>
  <script src="../resources/qunit-1.10.0.js"></script>
</head>
<body>
  <div id="qunit"></div>
  <script type="text/javascript">
      test("testCreateErrorLine_normal_formErrorJSON", function() {
          var target = new ErrorView({
            models: [createEmptyModel()] });

          var result = target.createErrorLine("{\"action\": \"ACTION\", \"message\": \"MESSAGE\"}" );
          equal(result, "action: ACTION, message: MESSAGE");
      });

      test("testCreateErrorLine_normal_hasNoAction", function() {
          var target = new ErrorView({
            models: [createEmptyModel()] });

          var result = target.createErrorLine("{\"message\": \"MESSAGE\"}");
          equal(result, "{\"message\": \"MESSAGE\"}");
      });


      test("testCreateErrorLine_normal_hasNoMessage", function() {
          var target = new ErrorView({
          models: [createEmptyModel()] });

          var result = target.createErrorLine("{\"action\": \"ACTION\"}");
          equal(result, "{\"action\": \"ACTION\"}");
      });

      test("testCreateErrorLine_normal_text", function() {
      var target = new ErrorView({
      models: [createEmptyModel()] });

      var result = target.createErrorLine("error occured");
      equal(result, "error occured");
      });

      function createEmptyModel() {
        var model = Backbone.Model.extend({});
        return new model({});
      }
  </script>
<div></div>
</body>
</html>